{% extends "base.html" %}

{% block content %}
<div class="row mb-5">
    <div class="col-12">
        <h3 class="h4 mb-4 border-bottom border-dark pb-2" style="letter-spacing: 2px;">OPERATOR'S CONTROL CENTER</h3>
        <p class="small text-muted mb-5" style="font-family: var(--font-news);">Logged as Station Master: {{ user }}</p>

        <div class="row g-4 mb-5">
            <!-- Vintage Stat Counters (Uniform 3-Column) -->
            <div class="col-md-4">
                <div class="p-4 border border-dark text-center" style="background: rgba(0,0,0,0.03);">
                    <div class="console-label mb-2">Total Signals</div>
                    <div class="h1 mb-0 fw-bold" style="font-family: var(--font-header);">{{ stats.total_users }}</div>
                    <div class="small opacity-50 mt-1">OPERATORS</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4 border border-dark text-center" style="background: rgba(0,0,0,0.03);">
                    <div class="console-label mb-2" style="color: var(--accent-steel);">Live Tubes</div>
                    <div class="h1 mb-0 fw-bold" style="font-family: var(--font-header); color: var(--accent-steel);">{{
                        stats.active_sessions }}</div>
                    <div class="small opacity-50 mt-1">SESSIONS</div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="p-4 border border-dark text-center" style="background: rgba(0,0,0,0.03);">
                    <div class="console-label mb-2">Dispatches</div>
                    <div class="h1 mb-0 fw-bold" style="font-family: var(--font-header);">{{ stats.articles_generated }}
                    </div>
                    <div class="small opacity-50 mt-1">BROADCASTS</div>
                </div>
            </div>
        </div>

        <div class="row align-items-stretch">
            <div class="col-md-8">
                <div class="p-4 border border-dark h-100">
                    <h4 class="fw-bold mb-4 text-uppercase border-bottom border-dark pb-2">Network Grid Status</h4>
                    <div class="radio-presets bg-transparent m-0 p-0">
                        <div class="preset-link active mb-2" style="cursor: default; border-color: var(--radio-gold);">
                            <i class="bi bi-cloud-check me-3"></i> BEDROCK ENGINE: OPERATIONAL
                        </div>
                        <div class="preset-link active mb-2" style="cursor: default; border-color: var(--radio-gold);">
                            <i class="bi bi-mic me-3"></i> POLLY TRANSMITTER: OPERATIONAL
                        </div>
                        <div class="preset-link active" style="cursor: default; border-color: var(--radio-gold);">
                            <i class="bi bi-database me-3"></i> DYNAMO STORAGE: ACTIVE
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-4">
                <div class="radio-dashboard p-4 h-100">
                    <h5 class="text-white fw-bold mb-4 border-bottom border-secondary pb-2">MASTER CONTROLS</h5>
                    <div class="d-grid gap-3">
                        <a href="/admin/users" class="console-btn text-center py-2"
                            style="text-decoration: none;">MANAGE OPERATORS</a>
                        <a href="/admin/podcasts" class="console-btn text-center py-2"
                            style="text-decoration: none;">ARCHIVE CONTROL</a>
                        <form action="/admin/podcasts/purge" method="POST"
                            onsubmit="return confirm('WARNING: Permanent data purge. Continue?');">
                            <button type="submit" class="console-btn w-100 py-2" style="background: #8b0000;">PURGE
                                DISPATCHES</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}